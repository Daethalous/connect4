# 文件下载协议设计
刘蕴皓 2021012884
## 协议说明
1. FileDownloadRequest: 客户端发送文件下载请求，包括文件名、认证信息以及请求的文件块索引列表。
2. FileDownloadResponse: 服务器响应文件下载请求，包括状态、可能的错误消息、文件内容以及已发送的文件块索引列表。
3. ProtocolUpdateRequest: 客户端请求更新协议版本。
4. ProtocolUpdateResponse: 服务器响应协议版本更新请求，指示更新状态。
5. FileChunk: 用于表示文件数据的块，包括块索引和数据内容。
6. ChunkAcknowledgment: 用于客户端向服务器发送已成功接收的文件块索引列表的确认。
7. ChunkRetryRequest: 用于客户端请求重试发送某些文件块。
8. ChunkRetryResponse: 服务器响应文件块重试请求，指示重试状态。
9. TransferError: 用于表示文件传输过程中的错误，包括CRC校验错误、超时错误和网络错误。
10. TransferAbortRequest: 用于客户端请求中止文件传输。
11. TransferAbortResponse: 服务器响应文件传输中止请求，指示中止状态。

该协议设计支持多种命令，包括文件下载请求、协议版本更新请求、文件块重试请求和文件传输中止请求。同时，它支持并发请求，允许客户端同时发送多个请求。协议还支持分块下载，允许客户端仅请求文件的特定块。此外，协议支持认证，以确保只有经过身份验证的用户才能下载文件。差错检测和重传机制通过CRC校验和文件块重传请求来实现。最后，协议考虑到可能的更迭，通过协议版本更新请求和响应来支持协议的演进。